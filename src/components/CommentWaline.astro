---
import { SERVER_URL } from "../constants/constants";
---
<link
  rel="stylesheet"
  href="https://unpkg.com/@waline/client@v3/dist/waline.css"
/>
<div class="comment">
  <div id="waline" data-server-url={SERVER_URL}></div>
</div>

<script type="module">
  import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

  const serverURL = document.getElementById('waline')?.getAttribute('data-server-url')
  
  init({
    el: '#waline',
    serverURL: serverURL || '',
    dark: 'html[data-theme="dracula"]',
    reaction: [
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-good.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-bad.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-happy.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-color.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-confuse.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-heart.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-rocket.png",
      "https://fastly.jsdelivr.net/gh/Ocean-H1/blog_image_bed/comment-eyes.png",
    ],
    path: window.location.pathname.replace(/\/$/,''),   // make the comment on each blog independent
    search: false,
  })
</script>